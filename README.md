# PD2 Homework 2

![Generated by DALL.E](Untitled.png)

Generated by DALL.E

<aside>
ğŸ”¥ Announcement:

- Deadline - 2024/4/3 (Wed.) 23:59
- ç›¸é—œæ¸¬è³‡ç½®æ–¼serverçš„/home/share/hw2ï¼Œè«‹é€é
`cp /home/share/hw2/validate_hw2.py ~/hw2` 
å°‡pythonæª”æ¡ˆcopyåˆ°èˆ‡ä½ çš„`CodeGenerator.java` åŒä¸€å€‹ä½ç½®
- è«‹ç¢ºèªä½ çš„`CodeGenerator.java`æ”¾åœ¨`~/hw2/CodeGenerator.java`ã€‚ä½œæ¥­1æˆ‘å€‘æ˜¯ä»¥æ‰£åˆ†è™•ç†æ²’æœ‰æ­£ç¢ºæ”¾ç½®çš„æƒ…æ³ï¼Œä½œæ¥­2å°‡ç›´æ¥ä»¥æ‰¾ä¸åˆ°`~/hw2/CodeGenerator.java`ï¼Œä¸åŸ·è¡Œ - 0åˆ†è¨ˆç®—ã€‚
    
    Please make sure your `CodeGenerator.java` is located in `~/hw2/CodeGenerator.java`. In Homework 1, we deducted points for files not correctly placed. For Homework 2, if the file cannot be found in `~/hw2/CodeGenerator.java`, it will not be executed - 0 points will be given.
    
- Serverä½œæ¥­ç¹³äº¤Guideline è«‹è¦‹:
â€£
</aside>

<aside>
ğŸ”¥ HW2çš„ç›¸é—œé‡‹ç–‘ï¼š

- å¯ä»¥ä½¿ç”¨regexåŠŸèƒ½
- å¦‚æœæ˜¯get/seté–‹é ­çš„functionï¼Œä¸€å®šæœƒæœ‰å°æ‡‰çš„attributeå¯ä»¥åšassignmentæˆ–å–å€¼ã€‚ä¸æœƒæœ‰ä¾‹å¤–æƒ…æ³éœ€è€ƒæ…®ã€‚
</aside>

# Code Generator for Mermaid Class Diagram

# Introduction to Mermaid

Mermaid æ˜¯ä¸€ç¨®åŸºæ–¼æ¨™è¨˜å¼æ–‡æœ¬è³‡æ–™(Markup Language)çš„åœ–è¡¨ç”Ÿæˆå·¥å…·ï¼Œå…è¨±ä½¿ç”¨è€…é€éç°¡å–®çš„æ–‡æœ¬èªè¨€ä¾†å‰µå»ºå’Œç¶­è­·åœ–è¡¨ã€‚é€™æ„å‘³è‘—ç”¨æˆ¶å¯ä»¥ç”¨é¡ä¼¼ Markdown çš„èªæ³•å¿«é€Ÿç¹ªè£½æµç¨‹åœ–ã€åºåˆ—åœ–ã€ç”˜ç‰¹åœ–ç­‰å¤šç¨®åœ–è¡¨ï¼Œè€Œç„¡éœ€ä½¿ç”¨è¤‡é›œçš„åœ–å½¢ç·¨è¼¯è»Ÿä»¶ã€‚Mermaid çš„ç›®çš„æ˜¯ç°¡åŒ–åœ–è¡¨çš„å‰µå»ºéç¨‹ï¼Œè®“é–‹ç™¼è€…å’ŒæŠ€è¡“äººå“¡æ›´å®¹æ˜“åœ°åœ¨æ–‡æª”ä¸­åŒ…å«è¤‡é›œçš„åœ–è¡¨ã€‚

<aside>
ğŸ”¥ Mermaid is a JavaScript based diagramming and charting tool that renders Markdown-inspired text definitions to create and modify diagrams dynamically.

</aside>

[About Mermaid | Mermaid](https://mermaid.js.org/intro/)

å…¶ä¸­ï¼ŒMermaid Class Diagramæ˜¯ä¸€ç¨®ç”¨æ–¼å‰µå»ºclasså‘ˆç¾çš„çµæ§‹åœ–çš„å·¥å…·ã€‚å®ƒç”¨æ–¼ä»£è¡¨é¡åˆ¥çš„é—œä¿‚ä»¥åŠå®ƒå€‘å¦‚ä½•ç›¸äº’äº¤äº’ã€‚Mermaid Class Diagramæä¾›ä¸€ç¨®ç°¡å–®å’Œç›´è§€çš„æ–¹å¼ä¾†åšåˆ°é¡ä¼¼UMLçš„class diagramçš„æ¦‚å¿µå‘ˆç¾ï¼Œåªéœ€ä½¿ç”¨ä¸€ç¨®Markdown-basedèªè¨€å³å¯å‰µå»ºå‡ºæ¸…æ™°ä¸”æ˜“æ–¼ç†è§£çš„class relationã€‚

Mermaid Class Diagram is a tool for creating structured diagrams for class presentations. It is used to represent the relationships between classes and how they interact with each other. Mermaid Class Diagram provides a simple and intuitive way to present concepts similar to UML class diagrams, just by using a Markdown-based language to create clear and easy-to-understand class relations.

## Example of Mermaid Class Diagram

ä»¥ä¸‹æ˜¯ä¸€å€‹Mermaid class diagramçš„ä¾‹å­ï¼Œå…¶ä¸­åŒ…å«ä¸‰å€‹é¡åˆ¥ï¼šPersonï¼ŒEmployeeå’ŒManagerã€‚æ¯å€‹é¡åˆ¥éƒ½æœ‰å…¶å±¬æ€§è³‡æ–™å’Œæ–¹æ³•ã€‚

```mermaid
classDiagram
      Person <|-- Employee
      Employee <|-- Manager
      class Person {
          -String name
          -int age
          +setName(String name) void 
          +setAge(int age) void 
      }
      class Employee {
          +String company
          +setCompany(String company) void
      }
      class Manager {
          +String department
          +setDepartment(String department) void
      }
```

ä»¥ä¸‹æ˜¯é€™å€‹class diagramå°æ‡‰çš„Javaç¨‹å¼ç¢¼ï¼š

```java
public class Person {
    private String name;
    private int age;
    public void setName(String name) {
        this.name = name;
    }
    public void setAge(int age) {
        this.age = age;
    }
}
public class Employee extends Person {
    private String company;
    public void setCompany(String company) {
        this.company = company;
    }
}

public class Manager extends Employee {
    private String department;
    public void setDepartment(String department) {
        this.department = department;
    }
}

```

## Homework Requirement

Mermaid class diagramæœ‰ä¸€ç¨®ç°¡æ˜“çš„Markdownè¡¨ç¤ºèªæ³•ï¼š

```mermaid
classDiagram
class BankAccount
BankAccount : -String owner
BankAccount : -int balance
BankAccount : +setOwner(String owner) void
BankAccount : +isEnough(int value, int balance) void
BankAccount : +getOwner() String

```

ä»¥åŠä»–å°æ‡‰çš„java classç¨‹å¼ç¢¼

```java
public class BankAccount {
    private String owner;
    private int balance;
    public void setOwner(String owner) {
			  this.owner = owner;
    }
		public void isEnough(int value, int balance) {;}
    public String getOwner() {
        return owner;
    }
}
```

### ä½ çš„ç›®æ¨™å°±æ˜¯è¦å°‡é€™å€‹ç°¡æ˜“ç‰ˆçš„Mermaid class diagramè½‰ç‚ºjava source codeï¼šä¸€å€‹ç°¡æ˜“çš„Code Generator

### Your goal is to convert the Mermaid class diagram into java source code: a simple Code Generator

## Mermaid Syntax Specification

æ¯ä¸€å€‹Mermaid Class Diagramé–‹é ­ä¸€å®šæœ‰ `classDiagram` 

Every Mermaid Class Diagram always starts with `classDiagram`

### å®šç¾© class

- ä½¿ç”¨ `class` é—œéµå­—ï¼Œå¾Œé¢æ¥è‘—class çš„åç¨±ï¼Œä¾‹å¦‚ :  `class BankAccount`

Use the `class` keyword, followed by the name of the class, for example: `class BankAccount`

### å®šç¾© class æˆå“¡

- ä¸€å€‹class çš„æˆå“¡æœ‰ attributes (å±¬æ€§)èˆ‡ methods (æ–¹æ³•)å…©ç¨®

A class has two types of members: attributes and methods.

- Mermaid æ ¹æ“šæ˜¯å¦å­˜åœ¨æ‹¬è™Ÿ `()` ä¾†å€åˆ†å±¬æ€§å’Œæ–¹æ³•ã€‚å¸¶æœ‰ `()` çš„è¢«è¦–ç‚ºå‡½æ•¸/æ–¹æ³•ï¼Œæ‰€æœ‰å…¶ä»–çš„statementè¦–ç‚ºå±¬æ€§ã€‚

Mermaid distinguishes between attributes and methods based on the presence of parentheses `()`. Those with `()` are considered functions/methods, all other statements are treated as attributes.

- ä½¿ç”¨å†’è™Ÿ `:` å¾Œè·Ÿéš¨æˆå“¡åç¨±ä¾†é—œè¯ä¸€å€‹classçš„æˆå“¡ï¼Œé©ç”¨æ–¼ä¸€æ¬¡å®šç¾©ä¸€å€‹æˆå“¡ã€‚ä¾‹å¦‚ï¼š`BankAccount : -String owner` ä»£è¡¨owneré€™å€‹å±¬æ€§æ˜¯å±¬æ–¼ BankAccount çš„ classã€‚

Use a colon `:` followed by the member name to associate a member with a class, suitable for defining a member at a time. For example: `BankAccount : -String owner` indicates that the owner attribute belongs to the BankAccount class.

- ä½¿ç”¨å¤§æ‹¬è™Ÿ`{}`é—œè¯classçš„æˆå“¡ï¼Œå…¶ä¸­æˆå“¡åœ¨å¤§æ‹¬è™Ÿå…§åˆ†çµ„ã€‚é©åˆæ–¼ä¸€æ¬¡å®šç¾©å¤šå€‹æˆå“¡ã€‚ï¼ˆä¸éæ­¤ç¨®èªæ³•åªæœƒåœ¨challenge pointçš„é¡Œç›®è£¡å‡ºç¾ï¼Œå¦‚æœä½ åªæ‰“ç®—æ‹¿åŸºç¤åˆ†æ•¸ï¼Œå¯ä»¥ä¸ç”¨è€ƒæ…®é€™å€‹æƒ…æ³ï¼‰

Use braces `{}` to associate members of a class, where members are grouped within the braces. Suitable for defining multiple members at once. However, this syntax will only appear in the challenge point questions.

- `+` è¡¨ç¤ºpublicï¼Œ `-` è¡¨ç¤ºprivateã€‚

`+` means public, `-` means private.

### Methods Return Type

- return çš„é¡å‹ä¸€å®šæœƒæ¥åœ¨methodsçš„å³æ‹¬è™Ÿ`)`å¾Œé¢ï¼Œä¸”ä¸€å®šæœ‰ç©ºæ ¼(å¯èƒ½æœ‰å¤šå€‹ç©ºæ ¼)åœ¨ä¸­é–“ã€‚ä¾‹å¦‚ï¼š`+getOwner() String` ä»£è¡¨ `getOwner` çš„ return type ç‚º Stringã€‚

The type of `return` will always follow the right parenthesis `)` of the methods, and there must be a space (possibly multiple spaces) in between. For example: `+getOwner() String` means the return type of `getOwner` is String.

- å¦‚æœ`)`å¾Œé¢æ²’æœ‰æ±è¥¿ï¼Œå‰‡è¦–ç‚ºreturnç‚º`void`ã€‚

If there is nothing behind `)`, it is considered that the return value is `void`.

## OOP Requirement I - setter & getter

> åœ¨ Java ä¸­ï¼Œsetter å’Œ getter æ–¹æ³•çš„æ©Ÿåˆ¶é€šå¸¸è¢«ç¨±ç‚ºã€Œå­˜å–å™¨æ–¹æ³•ã€å’Œã€Œä¿®æ”¹å™¨æ–¹æ³•ã€ï¼Œæˆ–è€…æ›´é€šä¿—åœ°èªªæ˜¯ã€Œè¨­ç½®å™¨ã€å’Œã€Œç²å–å™¨ã€ã€‚é€™ç¨®æ©Ÿåˆ¶æ˜¯OOPä¸­çš„ä¸€å€‹åŸºæœ¬æ¦‚å¿µï¼Œç”¨æ–¼å°é¡åˆ¥çš„ç§æœ‰å±¬æ€§é€²è¡Œå®‰å…¨çš„accesså’Œä¿®æ”¹ã€‚
> 

> **è¨­ç½®å™¨ï¼ˆSetterï¼‰**ï¼šé€™æ˜¯ä¸€ç¨®ä¿®æ”¹å±¬æ€§çš„æ–¹æ³•ï¼Œå…è¨±å¤–éƒ¨codeè¨­å®šæˆ–ä¿®æ”¹é¡åˆ¥çš„ç§æœ‰å±¬æ€§å€¼ã€‚é€šéé€™ç¨®æ–¹å¼ï¼Œåœ¨è¨­å®šå±¬æ€§å€¼ä¹‹å‰å¯ä»¥é€²è¡Œé©—è­‰æˆ–è™•ç†ï¼Œç¢ºä¿ç‰©ä»¶çš„ç‹€æ…‹ä¿æŒæœ‰æ•ˆå’Œä¸€è‡´ã€‚
> 

> **ç²å–å™¨ï¼ˆGetterï¼‰**ï¼šé€™æ˜¯ä¸€ç¨®å­˜å–å±¬æ€§çš„æ–¹æ³•ï¼Œå…è¨±å¤–éƒ¨codeç²å–é¡åˆ¥çš„ç§æœ‰å±¬æ€§å€¼ã€‚ä½¿ç”¨ç²å–å™¨æ–¹æ³•å¯ä»¥ä¿è­·å±¬æ€§å€¼ä¸è¢«ç›´æ¥å­˜å–ï¼ŒåŒæ™‚ä¹Ÿæä¾›äº†ä¸€ç¨®æ–¹å¼ä¾†æ§åˆ¶å°ç‰©ä»¶å…§éƒ¨è³‡è¨Šçš„è®€å–ã€‚
> 
- ç•¶methodsåç¨±ç‚ºseté–‹é ­æ¥è‘—attributeåç¨±æ™‚ï¼Œoutputçš„methodså…§éƒ¨å°±ä¸€å®šè¦æœ‰ä¿®æ”¹private attributeçš„codeï¼Œå…·é«”å¦‚ä¸‹ï¼Œç¢ºèªæœ‰ä¸€å€‹privateçš„ `owner` attributeï¼Œä¸”methodåç¨±ç‚º`set` åŠ ä¸Š`Owner` ã€‚
    
    (When the method name begins with 'set' followed by the attribute name, the code inside the output methods must modify the private attribute, as shown below. Ensure there is a private `owner` attribute and the method name is `set` plus `Owner`.)
    
    ```mermaid
    classDiagram
    class BankAccount
    BankAccount : -String owner
    BankAccount : +setOwner(String owner) void
    ```
    
    å‰‡setter methodsè£¡è¦æœ‰å¹«ownerè³¦å€¼çš„å‹•ä½œã€‚
    
    (The setter methods should have actions to assign values to the owner.)
    
    ```java
    public class BankAccount {
        private String owner;
        public void setOwner(String owner) {
    			  this.owner = owner;
    		}
    }		
    ```
    
- ç•¶methodsåç¨±ç‚ºgeté–‹é ­éŠœæ¥attributeåç¨±æ™‚ï¼Œoutputçš„methodså…§éƒ¨å°±ä¸€å®šè¦æœ‰å›å‚³private attributeçš„codeï¼Œå…·é«”å¦‚ä¸‹ï¼Œç¢ºèªæœ‰ä¸€å€‹privateçš„ `owner` attributeï¼Œä¸”methodåç¨±ç‚º`get` åŠ ä¸Š`Owner` ã€‚
    
    (When the method name begins with 'get' followed by the attribute name, the output of the methods must contain code that returns the private attribute. Specifically, confirm that there is a private `owner` attribute, and the method name is `get` plus `Owner`.)
    
    ```java
    classDiagram
    class BankAccount
    BankAccount : -String owner
    BankAccount : +getOwner() String
    ```
    
    å‰‡getter methodsè£¡è¦æœ‰return attributeçš„å‹•ä½œï¼š
    
    (The getter methods should return the attribute's value:)
    
    ```java
    public class BankAccount {
        private String owner;
        public String getOwner() {
    			  return owner;
    		}
    }		
    ```
    

- ç•¶ç„¶é€™å…©å€‹methodé‚„æœ‰å…¶ä»–å»¶ä¼¸çš„æ‡‰ç”¨ï¼Œä½†æœ¬æ¬¡ä½œæ¥­åªè¦æ±‚åšå‡ºä¸Šè¿°åŠŸèƒ½ã€‚

Of course, these two methods have other extended applications, but this homework only requires the above functions.

<aside>
ğŸ”¥ ç”±æ–¼æˆ‘å€‘çš„ç¨‹å¼æœƒfollow CamelCaseçš„é¢¨æ ¼ï¼Œæ‰€ä»¥attributeçš„é–‹é ­éƒ½æ˜¯å°å¯«å¦‚`owner`ï¼Œä½†methodç¬¬äºŒå€‹è‹±æ–‡å–®å­éƒ½æ˜¯å¤§å¯«å¦‚`setOwner()`æˆ–`getOwner()`ã€‚ä½ å¿…é ˆè‡ªå·±è™•ç†é€™å€‹å¤§å°å¯«çš„æƒ…æ³ã€‚

Because our program will follow the CamelCase style, the beginning of attributes are all lowercase such as `owner`, but the second English word in the method is capitalized like `setOwner()` or `getOwner()`. You must handle this case situation by yourself.

</aside>

## Coding Requirements

å¯«å‡ºçš„codeéœ€è¦ç”¨è‡³å°‘åŒ…å«3å€‹classï¼Œæ¯å€‹classæœ‰å„è‡ªçš„åŠŸèƒ½ã€‚å¦‚ä»¥ä¸‹ç¯„ä¾‹ï¼Œ`CodeGeneraor` ç‚ºä¸»ç¨‹å¼ï¼Œ`FileReader`èˆ‡`Parser`å‰‡æ˜¯å…©å€‹ä¸åŒçš„classã€‚

```java
public class CodeGenerator {
    public static void main(String[] args) {
        if (args.length == 0) {
            System.err.println("è«‹è¼¸å…¥mermaidæª”æ¡ˆåç¨±");           
        }
        else {
            // get input
            String fileName = args[0];
            String mermaidCode = "";

            FileReader mermaidCodeReader = new FileReader();
            mermaidCodeReader.read(fileName);
            temp = Parser.splitByClass(mermaidCode);
       }
    }
}
class FileReader {
    public String read(String fileName) {
				...
    }
    ...
}
class Parser {
		public static String splitByClass(String input) {
			...
		}
}
```

<aside>
ğŸ”¥ é€™åªæ˜¯ä¸€å€‹ç¤ºç¯„ï¼Œä¸ä¸€å®šè¦ç”¨é€™å€‹example codeä¾†å»¶ä¼¸ï¼Œä½†ä½ çš„ç¨‹å¼â€è‡³å°‘å¿…é ˆåŒ…å«3å€‹classâ€ â€” é€™æ˜¯ä½œæ¥­è¦æ±‚ã€‚

This is just a demonstration, you don't necessarily have to extend from this example code, but your program "must contain at least 3 classes" - this is a homework requirement.

</aside>

## Input issues

- æ¯ä¸€è¡Œè¦–ç‚ºä¸€å€‹stringï¼Œä»¥æ–·è¡Œç¬¦è™Ÿå€åˆ¥ä¸åŒçš„stringã€‚
- æ¯ä¸€è¡Œstringéƒ½ç¬¦åˆMermaid Class Diagramèªæ³•ã€‚
- ä¸€å€‹test fileæœ€å¤šåªæœƒåŒ…å«3å€‹classã€‚
- setterè·Ÿgetter methodä¸€å®šæœƒç¬¦åˆè¦ç¯„ï¼Œå¦‚setterçš„åƒæ•¸ä¸€å®šåªæœ‰ä¸€å€‹ï¼Œä¸”ç¬¦åˆattributeçš„nameåŠtypeï¼Œreturn typeä¸€å®šç‚ºvoidï¼Œä¸éœ€è¦è™•ç†exceptionã€‚
- é™¤äº†Challenge pointæœƒåŒ…å«å…©ç¨®Mermaid èªæ³•ï¼Œä¸€èˆ¬æ¸¬è³‡éƒ½åªæœƒæœ‰ `:` é€™ç¨®èªæ³•ã€‚

- Each line is considered as one string, distinguished by line breaks.
- Each line of the string follows the Mermaid Class Diagram syntax.
- A test file will contain at most 3 classes.
- Setter and getter methods will definitely conform to the standard. For example, a setter will always have only one parameter that matches the attribute's name and type, and its return type will always be void. There is no need to handle exceptions.
- Apart from the Challenge point which will include two types of Mermaid syntax, regular test data will only contain the `:` syntax.

<aside>
ğŸ”¥ è«‹æ³¨æ„æ¯ä¸€è¡Œæœƒæœ‰å¤šé¤˜çš„ç©ºç™½çš„å¯èƒ½æ€§ã€‚ä¸æ˜¯åªè¦åˆ©ç”¨å–®ä¸€ç©ºç™½ç¬¦è™Ÿä¾†åšç‚ºåˆ†éš”ä¸åŒtokenã€‚

Please be aware that each line may contain extra spaces. It's not just about using a single space character to separate different tokens.

</aside>

## Compile Way

```java
javac CodeGenerator.java
```

ç”±æ–¼ä½ å¯èƒ½æœƒå¯«å¤šå€‹ä¸åŒçš„class(ä½œæ¥­è¦æ±‚æœ€å°‘è¦æœ‰3å€‹java class)ï¼Œä½†æˆ‘å€‘å°šæœªæ•™åˆ°projectç®¡ç†çš„å·¥å…·ï¼Œå¦‚æœä¸åŒçš„classéƒ½å®šç¾©ç‚º`public`çš„è©±ï¼Œæœƒå‡ºç¾compile errorã€‚ç‚ºäº†é¿å…é€™ç¨®æƒ…æ³ï¼Œé™¤äº†ä¸»ç¨‹å¼ç‚º`public class CodeGenerator` ï¼Œå…¶ä»–çš„classå°±å¯«ç‚º `class ClassName` ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œåªè¦compile CodeGenerator.javaï¼Œå…¶ä»–çš„classä¹Ÿæœƒè‡ªå‹•ç”¢ç”Ÿå…¶å°æ‡‰çš„classæª”ï¼Œè€Œæ²’æœ‰compile errorã€‚

Because you may write multiple different classes (more than 3), and we have not yet taught project management tools, if different classes are defined as `public`, a compile error will occur. To avoid this situation, except for the main program as `public class CodeGenerator`, other classes are written as `class ClassName`, in this way, as long as CodeGenerator.java is compiled, other classes will automatically generate their corresponding class files, without compile error.

## Input Arguments

Only one argument for test case file name, for instance:

```bash
java CodeGenerator tc1
```

## Output issues

- Mermaidè£¡é¢æ¯ä¸€å€‹classéƒ½æœƒç”¢ç”Ÿä¸€å€‹.`java` æª”ï¼Œæª”æ¡ˆåç¨±èˆ‡classåç¨±ç›¸åŒï¼Œå¦‚ä»¥ä¸‹çš„ç¯„ä¾‹ï¼Œæ‡‰è©²è¦ç”Ÿæˆ`Person.java` , `Student.java` , `Teacher.java` ä¸‰å€‹æª”æ¡ˆã€‚

- In Mermaid, each class will generate a **`.java`** file, with the file name being the same as the class name. In the following example, it should generate three files: **`Person.java`**, **`Student.java`**, and **`Teacher.java`**.

```mermaid
classDiagram
    class Person
    Person : -int age
    Person : -String name
    Person : +introduceSelf(String name) void

    class Student 
		Student : -int studClass
    Student : -String studentID
    Student : +study() void
    
    class Teacher 
    Teacher : -String teacherID
    Teacher : +teach() void
```

- ç•¶é‡åˆ°setteræˆ–getter methodsæ™‚ï¼Œé ˆæŒ‰ç…§ä¸Šé¢çš„ç¯„ä¾‹ï¼Œoutputå‡ºæ­£ç¢ºçš„methodåŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯`this. = â€¦`æˆ–æ˜¯`return â€¦`

- When encountering setter or getter methods, they should be outputted with the correct functionality according to the examples provided above, like `this. = â€¦`or`return â€¦` .

<aside>
ğŸ”¥ éœ€è¦åš´æ ¼éµå®ˆç¸®æ’è¦ç¯„ï¼Œå…·é«”å¦‚ä¸‹ï¼š
(Indentation must be strictly adhered to, as follows:)

</aside>

- class å®šç¾©æ‡‰ç¸®æ’ç‚º 0ã€‚

- The class definition should be indented at 0 spaces.

```java
class Person
```

- å·¦å¤§æ‹¬è™Ÿ **`{`** æ‡‰è©²èˆ‡method æˆ– class åœ¨åŒä¸€è¡Œï¼Œä¸”ä¹‹é–“æœ‰ä¸€å€‹ç©ºæ ¼ã€‚

- The left curly brace **`{`** should be on the same line as the method or class, with one space in between.

```java
class Person {
		
}
```

- attributeè®Šæ•¸å’Œmethodçš„å®šç¾©æ‡‰ç¸®æ’ç‚º 4 å€‹ç©ºæ ¼ã€‚

- The definition of member variables and methods should be indented by 4 spaces.

```java
class Person {
		private int age;
}

```

- methodå…§çš„ç¨‹å¼ç¢¼æ‡‰æœƒç¸®æ’ç‚º 8 å€‹ç©ºæ ¼ã€‚

- The code inside a method should be indented by 8 spaces.

```java
class Person {
		private int age;
		public int getAge() {
				return age;
		}
}
```

- è‹¥égetteråŠsetterçš„methodï¼Œå¦‚æœéœ€è¦return å€¼ï¼Œ`int`, `String`, `boolean`çš„default valueåˆ†åˆ¥ç‚º`0`, `â€œâ€` ä»¥åŠ`false`éœ€è¦å‘ˆç¾`{return default_value;}` ã€‚å¦å‰‡å‰‡éœ€è¦å‘ˆç¾ `{;}` ï¼Œä¸”éƒ½è¦èˆ‡method æˆ– class åœ¨åŒä¸€è¡Œï¼Œä»¥ä¸‹ç‚ºå°æ‡‰çš„Mermaid Codeä»¥åŠJava class outputã€‚

- For methods that are neither getters nor setters, if a return value is required, the default values for **`int`**, **`String`**, and **`boolean`** should be **`0`**, **`""`**, and **`false`**, respectively, and should be presented as **`{return default_value;}`**. Otherwise, it should be presented as **`{;}` , and both should be on the same line as the method or class.**

ç¯„ä¾‹ç¨‹å¼ï¼š

```mermaid
classDiagram
class Person
Person : -int age
Person : +integerFunction() int
Person : +booleanFunction() boolean
Person : +stringFunction() String
Person : +voidFunction()
```

```java
class Person {
		private int age;
		public int integerFunction() {return 0;}
		public boolean booleanFunction() {return false;}
		public String stringFunction() {return "";}
		public void voidFunction() {;}
}
```

- æ¯ä¸€è¡Œoutputçš„é †åºä¾ç…§è«‹ä¾ç…§Mermaidèªæ³•çš„å®£å‘Šé †åºï¼Œå¦‚ä»¥ä¸‹ä¾‹å­ï¼Œ`isAlone()` æœ€å…ˆå®£å‘Šï¼Œå› æ­¤outputä¹Ÿæ˜¯ç”±ä»–é–‹å§‹ã€‚

- The order of each line in the output should follow the declaration order in the Mermaid syntax. For example, as `isAlone()` is declared first in the following example, the output should start with it as well.

```mermaid
classDiagram
class Family
Family : +isAlone() boolean
Family : -int size
Family : +getSize() int
```

```java
public class Family {
    public boolean isAlone() {return false;}
    private int size;
    public int getSize() {
        return size;
    }
}
```

<aside>
ğŸ“¢ 3/25 update: égetteræˆ–setterçš„function, returnçš„typeåªæœƒæœ‰int, String, booleanä¸‰ç¨®ã€‚

</aside>

## Challenge Point

attributeåŠmethodçš„å®šç¾©ä¸è¦‹å¾—æœƒæ”¾åœ¨åŒä¸€å€‹ä½ç½®ï¼Œè¼¸å‡ºæ™‚è¦å°‡åŒæ¨£çš„classæˆå“¡æ”¾åœ¨ä¸€èµ·ï¼Œä¸”éœ€è¦åŒæ™‚è™•ç†Mermaidçš„å…©ç¨®èªæ³•`:` å’Œ `{}` ã€‚

The definitions of attributes and methods may not necessarily be located in the same place. When outputting, members of the same class should be grouped together, and it's necessary to simultaneously handle Mermaid's two syntaxes `:`and `{}`.

```mermaid
classDiagram
    class Person 
    Person : +introduceSelf(String name) void

    class Student {
        +String studentID
        +study() void
    }
    
    class Teacher {
        +String teacherID
        +teach() void
    }
    Person : -int age
    Person : -String name

    class Student {
        -int number
        -Teacher coorespondingTeacher
    }
```

ä»¥ä¸‹ç‚ºoutput:

Person.java

```java
public class Person {
    public void introduceSelf(String name) {;}
    private int age;
    private String name;
}
```

Student.java

```java
public class Student {
    private String studentID;
    public void study() {;}
    private int number;
    private Teacher coorespondingTeacher;
}

```

Teacher.java

```java
public class Teacher {
    public String teacherID;
    public void teach() {;}
}
```

## Homework Ranking

- åœ¨deadlineå‰ï¼Œä¸€å…±æœƒæä¾›6å€‹test casesçµ¦å¤§å®¶, åŒ…å«5å€‹åŸºæœ¬çš„æ¸¬è³‡ï¼Œä»¥åŠ1å€‹challenge pointçš„æ¸¬è³‡ï¼ŒåŒæ™‚ä¹Ÿå°‡æä¾›å°æ‡‰çš„ç­”æ¡ˆã€‚

Before the deadline, a total of 6 test cases will be provided, including 5 basic test data and 1 challenge point test data, and corresponding answers will also be provided.

- åœ¨ç¹³äº¤deadlineä¹‹å¾Œï¼Œæˆ‘å€‘ä¸€å…±æœƒç”¨13å€‹test casesï¼Œä¹Ÿå°±æ˜¯é™¤äº†æä¾›çš„æ¸¬è³‡ä»¥å¤–ï¼Œé‚„æœ‰5å€‹éš±è—åŸºæœ¬æ¸¬è³‡ä»¥åŠ2å€‹chanllenge pointçš„éš±è—æ¸¬è³‡ã€‚

After the submission deadline, we will use a total of 13 test cases, that is, in addition to the provided test data, there are 5 hidden basic test data and 2 hidden test data for challenge points.

- ä½ çš„ç¨‹å¼å¿…é ˆåŒ…å«è‡³å°‘3å€‹classã€‚é€™æ˜¯åŸºæœ¬è¦æ±‚ã€‚

Your program must contain at least 3 classes. This is a basic requirement.

- outputçš„java filesæœƒé€édiffç¨‹å¼æ¯”è¼ƒï¼Œæ‰€ä»¥outputæ ¼å¼æ˜¯åš´æ ¼è¢«è¦æ±‚çš„ï¼Œæ²’æœ‰ä¾‹å¤–ã€‚è«‹èˆ‡æ¸¬è³‡çš„golden outputç¢ºèªæ˜¯ä¸€è‡´çš„ã€‚

The output Java files will be compared through a diff program, so the output format is strictly required, no exceptions. Please make sure it is consistent with the golden output of the test data.

## Homework Validation

- æ¸¬è³‡çš„ä½ç½®ä½æ–¼ `/home/share/hw2/` ï¼Œ`tc0` ~ `tc4` ç‚ºä¸€èˆ¬æ¸¬è³‡ï¼Œ`tc5` ç‚ºchallenge pointï¼Œè€Œ `ans0` ~ `ans5` ç‚ºç­”æ¡ˆè³‡æ–™å¤¾ï¼Œè£¡é¢å«æœ‰æ¯å€‹æ¸¬è³‡å°æ‡‰çš„`.java`æª”æ¡ˆã€‚
- æ–¼æ¸¬è³‡çš„åœ°æ–¹ä¹Ÿæœƒæä¾› validate_hw2.py (/home/share/hw2/validate_hw2.py) ç¨‹å¼å”åŠ©åŒå­¸æª¢æŸ¥è‡ªå·±ç¨‹å¼æ–¼æ¸¬è©¦è³‡æ–™ä¸ŠåŸ·è¡Œçš„æ­£ç¢ºæ€§ã€‚
- ä½œæ¥­çš„æª”æ¡ˆåç¨±è«‹å‘½åç‚º`CodeGenerator.java`
- åŒå­¸è«‹åœ¨serverå°‡`validate_hw2.py`è¤‡è£½ä¸€ä»½åˆ°~/hw2ï¼Œä¹Ÿå°±æ˜¯èˆ‡ä½ çš„`CodeGenerator.java`ç›¸åŒçš„ä½ç½®ã€‚
- `python3 validate_hw2.py` æŒ‡ä»¤æ˜¯ç”¨ä¾†é‹è¡Œæ‰€æœ‰çš„ testcaseï¼Œè£¡é¢å°‡æ‚¨çš„ `CodeGenerator.java`åŠ ä¸Šæ¸¬è³‡å¾—åˆ°è¼¸å‡ºæª”æ¡ˆå¾Œï¼Œä½¿ç”¨ diff èˆ‡æ­£ç¢ºç­”æ¡ˆé€²è¡Œæ¯”å°ã€‚
- å¦‚æœæ‚¨æƒ³è¦åˆ†é–‹åŸ·è¡Œtestcaseï¼Œå¯ä»¥åœ¨ `python3 validate_hw2.py` å¾Œé¢åŠ ä¸Šåƒæ•¸ 0~5ã€‚ä¾‹å¦‚ï¼ŒåŸ·è¡Œ `python3 validate_hw2.py 0` å°‡æœƒé‹è¡Œ tc0ã€‚
- è‹¥æ²’æœ‰å¯«challenge pointçš„éƒ¨åˆ†ï¼Œtc5çš„éƒ¨åˆ†æœƒç„¡æ³•é€šéï¼Œå±¬æ–¼æ­£å¸¸ç¾è±¡ã€‚

![Untitled](Untitled%201.png)

- å°æ–¼æ­¤ç¨‹å¼æœ‰ç™¼ç¾ä»»ä½•å•é¡Œï¼Œæ­¡è¿å¯„ä¿¡åˆ°åŠ©æ•™ä¿¡ç®±ï¼Œè«‹å‹¿è‡ªè¡Œä¿®æ”¹æ¸¬è³‡ï¼Œè¬è¬!

<aside>
ğŸ”¥ åˆ‡è¨˜æª”æ¡ˆè¦æ”¾åœ¨`~/hw2` åº•ä¸‹ï¼Œé¿å…éŒ¯èª¤çš„ä½œæ¥­ç¹³äº¤æƒ…æ³!

</aside>

<aside>
ğŸ“¢ 3/22 update: validate_hw2.pyä¿®æ­£åŸ·è¡Œjava commandéŒ¯èª¤ã€‚

</aside>

<aside>
ğŸ“¢ 3/22 update: validate_hw2.pyä¿®æ­£sdiffåƒæ•¸ï¼Œç¾åœ¨æ¯è¡Œèƒ½å¤ é¡¯ç¤º120å­—ã€‚

</aside>

<aside>
ğŸ“¢ 3/22 update: ä¿®æ­£tc5æ¸¬è³‡é–‹é ­æ²’æœ‰ `classDiagram` é—œéµå­—ã€‚

</aside>

## Tips

ä»¥ä¸‹æ˜¯ä¸€å€‹Javaç¯„ä¾‹ï¼Œç¤ºç¯„å¦‚ä½•è®€æª”ä»¥åŠè¼¸å‡ºä¸€å€‹æ–°çš„javaæª”æ¡ˆã€‚

Here is a Java example demonstrating how to read a file and output a new Java file.

```java
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;

import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;

public class CodeGenerater {
    public static void main(String[] args) {
		    // è®€å–æ–‡ä»¶
        if (args.length == 0) {
            System.err.println("è«‹è¼¸å…¥æª”æ¡ˆåç¨±");
            return;
        }
        String fileName = args[0];
        System.out.println("File name: " + fileName);
        String mermaidCode = "";
        try {
            mermaidCode = Files.readString(Paths.get(fileName));
        }
        catch (IOException e) {
            System.err.println("ç„¡æ³•è®€å–æ–‡ä»¶ " + fileName);
            e.printStackTrace();
            return;
        }
        
        
        // å¯«å…¥æ–‡ä»¶
        try {
            String output = "Example.java";
            String content = "this is going to be written into file";
            File file = new File(output);
            if (!file.exists()) {
                file.createNewFile();
            }
            try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {
                bw.write(content);
            }
            System.out.println("Java class has been generated: " + output);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
```

ä»¥ä¸‹æ˜¯HashMapèˆ‡ArrayListçš„ç¯„ä¾‹:

Here is an example of HashMap and ArrayList:

```java
import java.util.*;

public class CollectionExample {
    public static void main(String[] args) {
        // ä½¿ç”¨ArrayListå„²å­˜æ±è¥¿
        List<String> stringList = new ArrayList<>();
        stringList.add("Apple");
        stringList.add("Banana");
        stringList.add("Cherry");

        System.out.println("ArrayList of Strings:");
        for (String fruit : stringList) {
            System.out.println(fruit);
        }

        // ä½¿ç”¨ HashMap å„²å­˜key value pair
        Map<Integer, String> map = new HashMap<>();
        map.put(1, "One");
        map.put(2, "Two");
        map.put(3, "Three");
				
				// iterateå…¨éƒ¨çš„å€¼
        System.out.println("\nHashMap of Integer to String:");
        for (Map.Entry<Integer, String> entry : map.entrySet()) {
            System.out.println(entry.getKey() + " -> " + entry.getValue());
        }
    }
}

```

ä¹Ÿèƒ½å¤ é€éHashMapåŒæ™‚ä½¿ç”¨List:

It's also possible to use List together with HashMap:

```java
import java.util.*;

public class SchoolSubjectsExample {
    public static void main(String[] args) {
        Map<String, List<String>> subjectsToStudents = new HashMap<>();

        // ç›´æ¥æ–°å¢ä¸€å€‹arraylist
        List<String> mathStudents = new ArrayList<>();
        mathStudents.add("Alice");
        mathStudents.add("Bob");
        subjectsToStudents.put("Math", mathStudents);

        // iterateå…¨éƒ¨çš„å€¼
        System.out.println("School Subjects and Student Lists:");
        for (Map.Entry<String, List<String>> entry : subjectsToStudents.entrySet()) {
            String subject = entry.getKey();
            List<String> students = entry.getValue();
            System.out.println(subject + " students: " + students);
        }

        // å‘å·²ç¶“å­˜åœ¨çš„keyæ–°å¢value
        if (subjectsToStudents.containsKey("Math")) {
            subjectsToStudents.get("Math").add("Eva");
        }
    }
}

```

## Reference

[https://www.mermaidflow.app/](https://www.mermaidflow.app/)

[https://mermaid.live/edit](https://mermaid.live/edit)

[Class diagrams | Mermaid](https://mermaid.js.org/syntax/classDiagram.html)
